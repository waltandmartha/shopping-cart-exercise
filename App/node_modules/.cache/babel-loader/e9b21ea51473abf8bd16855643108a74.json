{"ast":null,"code":"import _classCallCheck from \"/Users/glenngreening/apps/shopping-cart-react/App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/glenngreening/apps/shopping-cart-react/App/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/glenngreening/apps/shopping-cart-react/App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/glenngreening/apps/shopping-cart-react/App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/glenngreening/apps/shopping-cart-react/App/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/glenngreening/apps/shopping-cart-react/App/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport axios from 'axios';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.addToCart = function (product) {\n      var item = _this.state.cart.find(function (item) {\n        return product.uuid === item.uuid;\n      });\n\n      if (item) {\n        var index = _this.state.cart.findIndex(function (item) {\n          return product.uuid === item.uuid;\n        });\n\n        var cartItem = {\n          uuid: item.uuid,\n          name: item.name,\n          price: item.price,\n          qty: item.qty + 1\n        };\n\n        var updatedCart = _this.state.cart.slice(0, index).concat(cartItem).concat(_this.state.cart.slice(index + 1));\n\n        _this.setState({\n          up: up\n        });\n      } else {\n        var qty = 1;\n        var _cartItem = {\n          uuid: product.uuid,\n          name: product.name,\n          price: product.price,\n          qty: qty\n        };\n\n        var cart = _this.state.cart.concat(_cartItem);\n\n        _this.setState({\n          cart: cart\n        });\n      }\n    };\n\n    _this.state = {\n      products: [],\n      cart: []\n    };\n    return _this;\n  } // state = {\n  //   products: [],\n  //   cart: []\n  // }\n\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(\"http://localhost:3000/products\").then(function (res) {\n        var products = res.data;\n\n        _this2.setState({\n          products: products\n        });\n      }).catch(function (error) {\n        alert(\"There is an error in API call.\");\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    // calculateTotal = () => {\n    //   product.price * product.qty \n    // }\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.products) {\n        // const loadData = () => JSON.parse(JSON.stringify(this.state.products));\n        // console.log(this.state.products)\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"header\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, \" Items Available Now! \"), React.createElement(\"h1\", {\n          className: \"App-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, \"Welcome to the Hacky Mess shop that only has 4 items! \")), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, this.state.products.map(function (product) {\n          return React.createElement(\"ul\", {\n            key: product.uuid,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            className: \"name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, product.name), React.createElement(\"p\", {\n            className: \"uuid\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }, product.uuid), React.createElement(\"button\", {\n            className: \"price\",\n            onClick: _this3.addToCart.bind(_this3, product),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }, \"Price: $\", product.price))));\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, \"Your Cart\"), this.state.cart.map(function (product) {\n          return React.createElement(\"ul\", {\n            key: product.uuid,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97\n            },\n            __self: this\n          }, product.name), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, \"$\", product.price), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99\n            },\n            __self: this\n          }, \"Quantity: \", product.qty), React.createElement(\"button\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, \"Add one more\"), \" \", React.createElement(\"button\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, \"Remove one\"));\n        }), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \"Total amount owing: // calculateTotal\"))))); // const totalBeforeDiscount = 0\n        // for(let i = 0; i < this.props.cart.length; i++)\n        //   totalBeforeDiscount += (this.props.product[i].price * this.props.product[i].qty)\n      }\n\n      {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, \"Loading items\");\n      }\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/glenngreening/apps/shopping-cart-react/App/src/App.js"],"names":["React","Component","axios","App","props","addToCart","product","item","state","cart","find","uuid","index","findIndex","cartItem","name","price","qty","updatedCart","slice","concat","setState","up","products","get","then","res","data","catch","error","alert","console","log","map","bind"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAEMC,G;;;;;AACJ,eAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,6EAAMA,KAAN;;AADgB,UA+BlBC,SA/BkB,GA+BN,UAACC,OAAD,EAAa;AACvB,UAAMC,IAAI,GAAG,MAAKC,KAAL,CAAWC,IAAX,CAAgBC,IAAhB,CAAqB,UAACH,IAAD,EAAW;AAC3C,eAAOD,OAAO,CAACK,IAAR,KAAiBJ,IAAI,CAACI,IAA7B;AACD,OAFY,CAAb;;AAIA,UAAIJ,IAAJ,EAAU;AACR,YAAMK,KAAK,GAAG,MAAKJ,KAAL,CAAWC,IAAX,CAAgBI,SAAhB,CAA0B,UAACN,IAAD,EAAW;AACjD,iBAAOD,OAAO,CAACK,IAAR,KAAiBJ,IAAI,CAACI,IAA7B;AACD,SAFa,CAAd;;AAGA,YAAMG,QAAQ,GAAG;AAAEH,UAAAA,IAAI,EAAEJ,IAAI,CAACI,IAAb;AAAmBI,UAAAA,IAAI,EAAER,IAAI,CAACQ,IAA9B;AAAoCC,UAAAA,KAAK,EAAET,IAAI,CAACS,KAAhD;AAAuDC,UAAAA,GAAG,EAAEV,IAAI,CAACU,GAAL,GAAW;AAAvE,SAAjB;;AACA,YAAMC,WAAW,GAAG,MAAKV,KAAL,CAAWC,IAAX,CAAgBU,KAAhB,CAAsB,CAAtB,EAAyBP,KAAzB,EAAgCQ,MAAhC,CAAuCN,QAAvC,EAAiDM,MAAjD,CAAwD,MAAKZ,KAAL,CAAWC,IAAX,CAAgBU,KAAhB,CAAsBP,KAAK,GAAG,CAA9B,CAAxD,CAApB;;AACA,cAAKS,QAAL,CAAc;AAACC,UAAAA,EAAE,EAAFA;AAAD,SAAd;AAGD,OATD,MASO;AACL,YAAML,GAAG,GAAG,CAAZ;AACA,YAAMH,SAAQ,GAAG;AAAEH,UAAAA,IAAI,EAAEL,OAAO,CAACK,IAAhB;AAAsBI,UAAAA,IAAI,EAAET,OAAO,CAACS,IAApC;AAA0CC,UAAAA,KAAK,EAAEV,OAAO,CAACU,KAAzD;AAAgEC,UAAAA,GAAG,EAAEA;AAArE,SAAjB;;AACA,YAAMR,IAAI,GAAG,MAAKD,KAAL,CAAWC,IAAX,CAAgBW,MAAhB,CAAuBN,SAAvB,CAAb;;AACA,cAAKO,QAAL,CAAc;AAACZ,UAAAA,IAAI,EAAJA;AAAD,SAAd;AAED;AAKF,KAxDiB;;AAEhB,UAAKD,KAAL,GAAW;AACTe,MAAAA,QAAQ,EAAC,EADA;AAETd,MAAAA,IAAI,EAAE;AAFG,KAAX;AAFgB;AAOjB,G,CAEC;AACA;AACA;AACA;;;;;wCAEiB;AAAA;;AACjBP,MAAAA,KAAK,CAACsB,GAAN,CAAU,gCAAV,EACCC,IADD,CACM,UAAAC,GAAG,EAAI;AACX,YAAMH,QAAQ,GAAGG,GAAG,CAACC,IAArB;;AACE,QAAA,MAAI,CAACN,QAAL,CAAc;AACZE,UAAAA,QAAQ,EAARA;AADY,SAAd;AAGH,OAND,EAOCK,KAPD,CAOO,UAACC,KAAD,EAAS;AACdC,QAAAA,KAAK,CAAC,gCAAD,CAAL;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACD,OAVD;AAWD;;;AAiCD;AACA;AACA;6BAGQ;AAAA;;AAEN,UAAG,KAAKrB,KAAL,CAAWe,QAAd,EAAwB;AACtB;AACA;AACA,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADF,EAEE;AAAI,UAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oEAFF,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,KAAKf,KAAL,CAAWe,QAAX,CAAoBU,GAApB,CAAwB,UAAA3B,OAAO;AAAA,iBAC/B;AAAI,YAAA,GAAG,EAAEA,OAAO,CAACK,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAI,YAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAuBL,OAAO,CAACS,IAA/B,CADF,EAEE;AAAG,YAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAqBT,OAAO,CAACK,IAA7B,CAFF,EAGE;AAAQ,YAAA,SAAS,EAAC,OAAlB;AAA0B,YAAA,OAAO,EAAE,MAAI,CAACN,SAAL,CAAe6B,IAAf,CAAoB,MAApB,EAA0B5B,OAA1B,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAiFA,OAAO,CAACU,KAAzF,CAHF,CADF,CADF,CAD+B;AAAA,SAA/B,CADJ,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEK,KAAKR,KAAL,CAAWC,IAAX,CAAgBwB,GAAhB,CAAoB,UAAA3B,OAAO;AAAA,iBAC1B;AAAI,YAAA,GAAG,EAAEA,OAAO,CAACK,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAIL,OAAO,CAACS,IAAZ,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAKT,OAAO,CAACU,KAAb,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAcV,OAAO,CAACW,GAAtB,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAJF,OAIiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJjC,CAD0B;AAAA,SAA3B,CAFL,EAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAAH,CAVJ,CAZF,CALF,CADF,CAHsB,CAuCxB;AACA;AACA;AAGC;;AAED;AACE,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAP;AACD;AACF;;;;EApHehB,S;;AAyHlB,eAAeE,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport axios from 'axios';\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state={\n      products:[],\n      cart: []\n      \n    }\n  }\n\n    // state = {\n    //   products: [],\n    //   cart: []\n    // }\n\n  componentDidMount(){\n    axios.get(\"http://localhost:3000/products\")\n    .then(res => {\n      const products = res.data\n        this.setState({\n          products\n        });      \n    })         \n    .catch((error)=>{\n      alert(\"There is an error in API call.\");\n      console.log(error)\n    });\n  }\n\n  \n\n\n  addToCart = (product) => {\n    const item = this.state.cart.find((item) =>  {\n      return product.uuid === item.uuid\n    } )\n\n    if (item) {\n      const index = this.state.cart.findIndex((item) =>  {\n        return product.uuid === item.uuid\n      } )\n      const cartItem = { uuid: item.uuid, name: item.name, price: item.price, qty: item.qty + 1 }\n      const updatedCart = this.state.cart.slice(0, index).concat(cartItem).concat(this.state.cart.slice(index + 1))\n      this.setState({up})\n      \n      \n    } else {\n      const qty = 1\n      const cartItem = { uuid: product.uuid, name: product.name, price: product.price, qty: qty }\n      const cart = this.state.cart.concat(cartItem)\n      this.setState({cart})\n      \n    }\n  \n\n  \n   \n  }\n\n\n  // calculateTotal = () => {\n  //   product.price * product.qty \n  // }\n\n             \n  render(){ \n            \n    if(this.state.products) {\n      // const loadData = () => JSON.parse(JSON.stringify(this.state.products));\n      // console.log(this.state.products)\n      return (\n        <div>\n          <header>\n            <p> Items Available Now! </p>\n            <h1 className=\"App-title\">Welcome to the Hacky Mess shop that only has 4 items! </h1>\n          </header>\n          <span>\n            { this.state.products.map(product => \n              <ul key={product.uuid}>\n                <div >\n                  <div >\n                    <h3 className=\"name\" >{product.name}</h3>\n                    <p className=\"uuid\">{product.uuid}</p>\n                    <button className=\"price\" onClick={this.addToCart.bind(this, product)} >Price: ${product.price}</button>\n                  </div>\n                </div>\n              </ul>\n            )}\n            <div>\n              <h1>Your Cart</h1>\n                {this.state.cart.map(product =>\n                  <ul key={product.uuid}>\n                    <p>{product.name}</p>\n                    <p>${product.price}</p>\n                    <p>Quantity: {product.qty}</p>\n                    <button >Add one more</button> <button>Remove one</button>\n                  </ul>\n                )}\n                <p><strong>\n                      Total amount owing: // calculateTotal\n                </strong></p>\n            </div>                   \n          </span>\n        </div> \n      );\n    \n    // const totalBeforeDiscount = 0\n    // for(let i = 0; i < this.props.cart.length; i++)\n    //   totalBeforeDiscount += (this.props.product[i].price * this.props.product[i].qty)\n\n\n    }\n\n    {\n      return <div>Loading items</div>\n    }\n  }\n}\n\n          \n            \nexport default App;"]},"metadata":{},"sourceType":"module"}